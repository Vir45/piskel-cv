!function(e){var t={};function n(r){if(t[r])return t[r].exports;var a=t[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(r,a,function(t){return e[t]}.bind(null,a));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=32)}([function(e,t,n){"use strict";var r,a={},o=function(){return void 0===r&&(r=Boolean(window&&document&&document.all&&!window.atob)),r},s=function(){var e={};return function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}e[t]=n}return e[t]}}();function c(e,t){for(var n=[],r={},a=0;a<e.length;a++){var o=e[a],s=t.base?o[0]+t.base:o[0],c={css:o[1],media:o[2],sourceMap:o[3]};r[s]?r[s].parts.push(c):n.push(r[s]={id:s,parts:[c]})}return n}function i(e,t){for(var n=0;n<e.length;n++){var r=e[n],o=a[r.id],s=0;if(o){for(o.refs++;s<o.parts.length;s++)o.parts[s](r.parts[s]);for(;s<r.parts.length;s++)o.parts.push(v(r.parts[s],t))}else{for(var c=[];s<r.parts.length;s++)c.push(v(r.parts[s],t));a[r.id]={id:r.id,refs:1,parts:c}}}}function l(e){var t=document.createElement("style");if(void 0===e.attributes.nonce){var r=n.nc;r&&(e.attributes.nonce=r)}if(Object.keys(e.attributes).forEach((function(n){t.setAttribute(n,e.attributes[n])})),"function"==typeof e.insert)e.insert(t);else{var a=s(e.insert||"head");if(!a)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");a.appendChild(t)}return t}var d,u=(d=[],function(e,t){return d[e]=t,d.filter(Boolean).join("\n")});function m(e,t,n,r){var a=n?"":r.css;if(e.styleSheet)e.styleSheet.cssText=u(t,a);else{var o=document.createTextNode(a),s=e.childNodes;s[t]&&e.removeChild(s[t]),s.length?e.insertBefore(o,s[t]):e.appendChild(o)}}function h(e,t,n){var r=n.css,a=n.media,o=n.sourceMap;if(a&&e.setAttribute("media",a),o&&btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),e.styleSheet)e.styleSheet.cssText=r;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(r))}}var f=null,p=0;function v(e,t){var n,r,a;if(t.singleton){var o=p++;n=f||(f=l(t)),r=m.bind(null,n,o,!1),a=m.bind(null,n,o,!0)}else n=l(t),r=h.bind(null,n,t),a=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(n)};return r(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r(e=t)}else a()}}e.exports=function(e,t){(t=t||{}).attributes="object"==typeof t.attributes?t.attributes:{},t.singleton||"boolean"==typeof t.singleton||(t.singleton=o());var n=c(e,t);return i(n,t),function(e){for(var r=[],o=0;o<n.length;o++){var s=n[o],l=a[s.id];l&&(l.refs--,r.push(l))}e&&i(c(e,t),t);for(var d=0;d<r.length;d++){var u=r[d];if(0===u.refs){for(var m=0;m<u.parts.length;m++)u.parts[m]();delete a[u.id]}}}}},function(e,t,n){e.exports=n.p+"images/3a28c3c1e2c898ac6d12f003af4ac17c.png"},function(e,t,n){e.exports=n.p+"images/c324e3766924b01c7da1cff6343de761.png"},function(e,t,n){e.exports=n.p+"images/409cde9c0b76aefb54395dd3a6b62d9f.png"},function(e,t,n){e.exports=n.p+"images/e2d607fbfbe66610b061e1405f5d8631.png"},function(e,t,n){e.exports=n.p+"images/c87ad67c6e604ccfd30e69fbcfb89433.png"},function(e,t,n){e.exports=n.p+"images/839092635cca7d43955dba23ef41d4c4.png"},function(e,t,n){e.exports=n.p+"images/a38cfec2d247f5eea7ec3c87177bc7b2.png"},function(e,t,n){e.exports=n.p+"images/f8239f2d9ad011ed25b8a1642f2e467f.png"},function(e,t,n){e.exports=n.p+"images/70bb3ef08f9d2ab04133a0ea0398e4f2.png"},function(e,t,n){e.exports=n.p+"images/3f3b3b98b3014d7a6bf1e746ee89a827.png"},function(e,t,n){e.exports=n.p+"images/f314d7d6d5c02325eed305a5927f80d4.png"},function(e,t,n){e.exports=n.p+"images/b972192bf67a5598eedf16ed33f7bf89.png"},function(e,t,n){e.exports=n.p+"images/8d900a81a2a44e22080a32cc8be0c2f0.png"},,,,,,,,,,,,,function(e,t,n){var r=n(27);"string"==typeof r&&(r=[[e.i,r,""]]);var a={insert:"head",singleton:!1};n(0)(r,a);r.locals&&(e.exports=r.locals)},function(e,t,n){},function(e,t,n){e.exports='<!DOCTYPE html>\r\n<html lang="en">\r\n\r\n<head>\r\n  <meta charset="UTF-8">\r\n  <meta name="viewport" content="width=device-width, initial-scale=1.0">\r\n  <meta http-equiv="X-UA-Compatible" content="ie=edge">\r\n  <link href="https://fonts.googleapis.com/css?family=Roboto&display=swap" rel="stylesheet">\r\n  <meta name="google-signin-client_id" content="821675323708-qvhlid3otc9perjhd0omb6jabuqm92qd.apps.googleusercontent.com">\r\n  <title>simple animation player</title>\r\n</head>\r\n\r\n<body>\r\n  <div class="wrapper">\r\n    <header>\r\n      <p class="logotip"><img src="'+n(29)+'" alt="logotip"></p>\r\n      <p class="decription">New Piskel</p>\r\n      <div class="nav-button">\r\n        <button id="my-signin2" class="my-signin2" data-theme="dark" ata-width="50" data-height="20" data-longtitle="true"></button>\r\n        <span id="userName" class="user-name"></span>\r\n        <button id="sing-out" class="sing-out" hidden>Sign out</button>\r\n        <button class="create-sprite">Create sprite</button>\r\n      </div>\r\n    </header>\r\n    <main>\r\n      <div class="main-tools">\r\n        <div class="tools">\r\n          <div class="row-0">\r\n            <button id="unit-sizes-one"><span class="span-unit-sizes-one"></span></button>\r\n            <button id="unit-sizes-two"><span class="span-unit-sizes-two"></span></button>\r\n            <button id="unit-sizes-three"><span class="span-unit-sizes-three"></span></button>\r\n            <button id="unit-sizes-four"><span class="span-unit-sizes-four"></span></button>\r\n          </div>\r\n          <div class="row-1">\r\n            <button id="pen"><img src="'+n(1)+'" alt="pen"></button>\r\n            <button id="stroke"><img src="'+n(2)+'" alt="stroke"></button>\r\n          </div>\r\n          <div class="row-2">\r\n            <button id="eraser"><img src="'+n(3)+'" alt="eraser"></button>\r\n            <button id="bucketAll"><img src="'+n(4)+'" alt="colorswap"></button>\r\n          </div>\r\n          <div class="row-3">\r\n            <button id="bucket"><img src="'+n(5)+'" alt="paint-bucket"></button>\r\n            <button id="picker"><img src="'+n(6)+'" alt="colorpicker"></button>\r\n          </div>\r\n          <div class="row-4">\r\n            <div class="first-color">\r\n              <input type="color" value="#000000" id="primary" hidden><label class="label" for="primary"><span class="span-primary"></span></label>\r\n            </div>\r\n            <div class="swap-color">\r\n              <input type="color" value="#FFFFFF" id="secondary" hidden><label class="label" for="secondary"><span class="span-secondary"></span></label>\r\n              <button id="swap"><img src="'+n(7)+'" alt="swapcolors"></button>\r\n            </div>\r\n          </div>\r\n          <div class="row-5">\r\n            <button id="keyboard"><img src="'+n(8)+'" alt="keyboard"></button>\r\n            <div class="modal-windown" hidden>\r\n              <p><span class="about-modal-windown">Keyboard shortcuts</span><button id="close" class="close">&#9746;</button></p>\r\n              <div class="column-div">\r\n                <div class="colum-1">\r\n                  <div class="tool pen">\r\n                    <span class="image"><img src="'+n(1)+'" alt="pen"></span>\r\n                    <span class="tool-name">pen</span>\r\n                    <span class="current-shortcuts">P</span>\r\n                    <input class="next-shortcuts" type="text" placeholder="Change?">\r\n                  </div>\r\n                  <div class="tool stroke">\r\n                    <span class="image"><img src="'+n(2)+'" alt="stroke"></span>\r\n                    <span class="tool-name">stroke</span>\r\n                    <span class="current-shortcuts">T</span>\r\n                    <input class="next-shortcuts" type="text" placeholder="Change?">\r\n                  </div>\r\n                  <div class="tool eraser">\r\n                    <span class="image"><img src="'+n(3)+'" alt="eraser"></span>\r\n                    <span class="tool-name">eraser</span>\r\n                    <span class="current-shortcuts">E</span>\r\n                    <input class="next-shortcuts" type="text" placeholder="Change?">\r\n                  </div>\r\n                  <div class="tool bucketAll">\r\n                    <span class="image"><img src="'+n(4)+'" alt="colorswap"></span>\r\n                    <span class="tool-name">colorswap</span>\r\n                    <span class="current-shortcuts">A</span>\r\n                    <input class="next-shortcuts" type="text" placeholder="Change?">\r\n                  </div>\r\n                  <div class="tool bucket">\r\n                    <span class="image"><img src="'+n(5)+'" alt="paint-bucket"></span>\r\n                    <span class="tool-name">bucket</span>\r\n                    <span class="current-shortcuts">B</span>\r\n                    <input class="next-shortcuts" type="text" placeholder="Change?">\r\n                  </div>\r\n                  <div class="tool swap">\r\n                    <span class="image"><img src="'+n(7)+'" alt="swapcolors"></span>\r\n                    <span class="tool-name">swapcolors</span>\r\n                    <span class="current-shortcuts">J</span>\r\n                    <input class="next-shortcuts" type="text" placeholder="Change?">\r\n                  </div>\r\n                  <div class="tool picker">\r\n                    <span class="image"><img src="'+n(6)+'" alt="colorpicker"></span>\r\n                    <span class="tool-name">color-picker</span>\r\n                    <span class="current-shortcuts">O</span>\r\n                    <input class="next-shortcuts" type="text" placeholder="Change?">\r\n                  </div>\r\n                  <div class="tool delete-frame">\r\n                    <span class="image"><img src="'+n(9)+'" alt="recyclebin"></span>\r\n                    <span class="tool-name">delete frame</span>\r\n                    <span class="current-shortcuts">Ctrl + X</span>\r\n                    <input class="next-shortcuts" type="text" placeholder="Change?">\r\n                  </div>\r\n                </div>\r\n                <div class="colum-2">\r\n                  <div class="tool add-frame">\r\n                    <span class="image"><img src="'+n(10)+'" alt="plus"></span>\r\n                    <span class="tool-name">add frame</span>\r\n                    <span class="current-shortcuts">Ctrl + V</span>\r\n                    <input class="next-shortcuts" type="text" placeholder="Change?">\r\n                  </div>\r\n                  <div class="tool dublicate-frame">\r\n                    <span class="image"><img src="'+n(11)+'" alt="duplicate"></span>\r\n                    <span class="tool-name">dublicate frame</span>\r\n                    <span class="current-shortcuts">Ctrl + C</span>\r\n                    <input class="next-shortcuts" type="text" placeholder="Change?">\r\n                  </div>\r\n                  <div class="tool save">\r\n                    <span class="image"><img src="'+n(12)+'" alt="save"></span>\r\n                    <span class="tool-name">save canvas</span>\r\n                    <span class="current-shortcuts">S</span>\r\n                    <input class="next-shortcuts" type="text" placeholder="Change?">\r\n                  </div>\r\n                  <div class="tool resize">\r\n                    <span class="image"><img src="'+n(13)+'" alt="resize"></span>\r\n                    <span class="tool-name">resize canvas</span>\r\n                    <span class="current-shortcuts">R</span>\r\n                    <input class="next-shortcuts" type="text" placeholder="Change?">\r\n                  </div>\r\n                  <div class="tool keyboard">\r\n                    <span class="image"><img src="'+n(8)+'" alt="keyboard"></span>\r\n                    <span class="tool-name">keyboard</span>\r\n                    <span class="current-shortcuts">K</span>\r\n                    <input class="next-shortcuts" type="text" placeholder="Change?">\r\n                  </div>\r\n                  <div class="tool increase-size-pen">\r\n                    <span class="tool-name">increase pen size</span>\r\n                    <span class="current-shortcuts">[</span>\r\n                    <input class="next-shortcuts" type="text" placeholder="Change?">\r\n                  </div>\r\n                  <div class="tool increase-size-pen">\r\n                    <span class="tool-name">decrease pen size</span>\r\n                    <span class="current-shortcuts">]</span>\r\n                    <input class="next-shortcuts" type="text" placeholder="Change?">\r\n                  </div>\r\n                  <div class="tool primary-color">\r\n                    <span class="tool-name">primary-color</span>\r\n                    <span class="current-shortcuts">L</span>\r\n                    <input class="next-shortcuts" type="text" placeholder="Change?">\r\n                  </div>\r\n                  <div class="tool secondary-color">\r\n                    <span class="tool-name">secondary-color</span>\r\n                    <span class="current-shortcuts">K</span>\r\n                    <input class="next-shortcuts" type="text" placeholder="Change?">\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class="frames">\r\n        <ul class="frame-containers">\r\n          <li class="frame-container" draggable="true">\r\n            <div class="canvas-container">\r\n              <canvas id="pixel2" class="canvas2" width="106" height="106"></canvas>\r\n              <span class="frame-number">1</span>\r\n              <button class="canvas-container-delete"><img src="'+n(9)+'" alt="recyclebin"></button>\r\n              <button class="canvas-container-dragndrop"><img src="'+n(30)+'" alt="dragndrop"></button>\r\n              <button class="canvas-container-duplicate"><img src="'+n(11)+'" alt="duplicate"></button>\r\n            </div>\r\n          </li>\r\n        </ul>\r\n        <button class="add-new-frame">\r\n\t\t\t\t\t<div><img src="'+n(10)+'" alt="plus"></div>\r\n\t\t\t\t\t<p>Add new frame</p>\r\n\t\t\t\t</button>\r\n\r\n      </div>\r\n      <div class="works-place">\r\n        <canvas id="pixel" height=\'640\' width=\'640\'></canvas>\r\n      </div>\r\n      <div class="additional-tools">\r\n        <div class="small-animation">\r\n          <canvas id="small-canvas" width="200" height="200"></canvas>\r\n          <button class="full-screen" id="full-screen-mode"><img src="'+n(31)+'" alt="full-screen-mode"></button>\r\n          <div class="speed-animation">\r\n            <label for="cowbell">1 FPS</label>\r\n            <input type="range" id="cowbell" name="cowbell" min="0" max="24" value="1" step="1">\r\n          </div>\r\n        </div>\r\n        <div class="setting-button">\r\n          <div hidden class="button-size">\r\n            <button id="thirty-two">32x32</button>\r\n            <button id="sixty-four">64x64</button>\r\n            <button id="one-hundred-and-twenty-eight">128x128</button>\r\n          </div>\r\n          <button id="resize"><img src="'+n(13)+'" alt="resize"></button>\r\n          <a id="save" href="" download="my-file-name.gif"><img src="'+n(12)+"\" alt=\"save\"></a>\r\n        </div>\r\n        <p class=\"size-canvas\"></p>\r\n      </div>\r\n    </main>\r\n  </div>\r\n  <script>\r\n    const buttonSingIn = document.querySelector('#my-signin2');\r\n    const buttonSingOut = document.querySelector('#sing-out');\r\n    const img = new Image();\r\n\r\n    function signIn() {\r\n      const auth2 = gapi.auth2.getAuthInstance();\r\n      auth2.signIn({\r\n        scope: 'https://www.googleapis.com/auth/drive'\r\n      }).then((googleUser) => {\r\n        buttonSingIn.setAttribute('hidden', 'true');\r\n        buttonSingOut.removeAttribute('hidden');\r\n        const profile = googleUser.getBasicProfile();\r\n        img.src = profile.getImageUrl();\r\n        img.classList.add('profile-image');\r\n        userName.textContent = `Hi ${profile.getName()}!`;\r\n        userName.after(img);\r\n      })\r\n    }\r\n\r\n    function signOut() {\r\n      const auth2 = gapi.auth2.getAuthInstance();\r\n      auth2.signOut().then(function() {\r\n        userName.textContent = '';\r\n        const img = document.querySelector('.profile-image');\r\n        img.remove();\r\n        buttonSingOut.setAttribute('hidden', 'true');\r\n        buttonSingIn.removeAttribute('hidden');\r\n      });\r\n    }\r\n\r\n    function renderButton() {\r\n      gapi.signin2.render('my-signin2', {\r\n        'width': 150,\r\n        'height': 24,\r\n        'longtitle': true,\r\n      });\r\n    }\r\n\r\n    document.querySelector('#my-signin2').addEventListener('click', signIn);\r\n    document.querySelector('#sing-out').addEventListener('click', signOut)\r\n  <\/script>\r\n  <script src=\"https://apis.google.com/js/platform.js\" async defer><\/script>\r\n  <script src=\"https://apis.google.com/js/platform.js?onload=renderButton\" async defer><\/script>\r\n</body>\r\n\r\n</html>"},function(e,t,n){e.exports=n.p+"images/261cc38cf12d97483bb904ace81a7f03.png"},function(e,t,n){e.exports=n.p+"images/9f83cee78c8eed05d835d384423fc619.png"},function(e,t,n){e.exports=n.p+"images/4b4bf9283f7e812798aad351925f0bbb.svg"},function(e,t,n){"use strict";function r(e,t,n,r){const{width:a}=n,{height:o}=n,s=a/e,c=o/t;document.querySelector(".size-canvas").textContent=`[${e}-${t}]`;for(let n=0;n<=e;n++)for(let e=0;e<=t;e++)r.fillStyle="rgb(0, 255, 0, 0)",r.fillRect(s*n,c*e,s,c)}function a(e,t,n,r,a){a(e,t,n,r),document.querySelector(".button-size").hidden=!0}function o(e,t){const n=[];for(let r=e/t;r<=e-e/t;r+=e/t)n.push(r);return n}function s(e,t){const n=[];for(let r=e/t;r<=e-e/t;r+=e/t)n.push(r);return n}function c(e,t){for(let n=0;n<e.length;n++){if(t<e[0]){t=0;break}if(t>=e[n]&&t<e[n+1]&&(t=e[n]),t>=e[e.length-1]){t=e[e.length-1];break}}return t}n.r(t);let i=!1;const l={x:0,y:0};function d(e){let t=o(z.width,M),n=s(z.height,F);z.width==z.width/M?(l.x=0,l.y=0):(l.x=e.pageX-this.offsetLeft,l.x=c(t,l.x),l.y=e.pageY-this.offsetTop,l.y=c(n,l.y)),i=!0,A.globalCompositeOperation=1==K?"destination-out":"source-over",1==e.which?(A.beginPath(),A.fillStyle=H,A.fillRect(l.x,l.y,z.width/M,z.height/F),localStorage.setItem("canvasName",z.toDataURL()),ye()):3==e.which&&(A.beginPath(),A.fillStyle=B,A.fillRect(l.x,l.y,z.width/M,z.height/F),localStorage.setItem("canvasName",z.toDataURL()),ye())}function u(e){e.preventDefault();let t=o(z.width,M),n=s(z.height,F);A.globalCompositeOperation=1==K?"destination-out":"source-over",!0===i&&(z.width==z.width/M?(l.x=0,l.y=0):(l.x=e.pageX-this.offsetLeft,l.x=c(t,l.x),l.y=e.pageY-this.offsetTop,l.y=c(n,l.y)),1==e.which?(A.fillStyle=H,A.fillRect(l.x,l.y,z.width/M,z.height/F),localStorage.setItem("canvasName",z.toDataURL()),ye()):3==e.which&&(A.fillStyle=B,A.fillRect(l.x,l.y,z.width/M,z.height/F),localStorage.setItem("canvasName",z.toDataURL()),ye()))}function m(){i=!1}function h(e){1==e.which?(A.fillStyle=H,A.fillRect(0,0,z.width,z.height),localStorage.setItem("canvasName",z.toDataURL()),ye()):3==e.which&&(A.fillStyle=B,A.fillRect(0,0,z.width,z.height),localStorage.setItem("canvasName",z.toDataURL()),ye())}let f=!1;const p={x:0,y:0};let v,g,y,b;function w(e){let t=o(z.width,M),n=s(z.height,F);z.width==z.width/M?(p.x=0,p.y=0,v=p.x,g=p.y):(p.x=e.pageX-this.offsetLeft,p.x=c(t,p.x),p.y=e.pageY-this.offsetTop,p.y=c(n,p.y),v=p.x,g=p.y),f=!0}function S(e){e.preventDefault();let t=o(z.width,M),n=s(z.height,F);!0===f&&(z.width==z.width/M?(p.x=0,p.y=0,y=p.x,b=p.y):(p.x=e.pageX-this.offsetLeft,p.x=c(t,p.x),p.y=e.pageY-this.offsetTop,p.y=c(n,p.y),y=p.x,b=p.y))}function L(e){const t=Math.min(v,y),n=Math.max(v,y),r=Math.min(g,b),a=Math.max(g,b);if(1==e.which){let e,o;const s=Math.max(n,a);for(e=t,o=r;o<=s;e+=z.width/M,o+=z.height/F){A.beginPath();let t=e,r=o;A.fillStyle=H,e>n&&(t=n),o>a&&(r=a),A.fillRect(t,r,z.width/M,z.height/F),localStorage.setItem("canvasName",z.toDataURL()),ye()}}else if(3==e.which){let e,t;for(e=v,t=g;t<=b;e+=z.width/M,t+=z.height/F)A.beginPath(),A.fillStyle=B,A.fillRect(e,t,z.width/M,z.height/F),localStorage.setItem("canvasName",z.toDataURL()),ye()}f=!1}const x={x:0,y:0};function E(e){const t=o(z.width,M),n=s(z.height,F);z.width==z.width/M?(x.x=0,x.y=0):(x.x=e.pageX-this.offsetLeft,x.x=c(t,x.x),x.y=e.pageY-this.offsetTop,x.y=c(n,x.y));let r,a,i,l=A.getImageData(x.x,x.y,1,1).data,d="rgba("+l[0]+", "+l[1]+", "+l[2]+", "+l[3]/255+")",u=x.x,m=x.y;for(let t=m;t<=z.height&&d===(i="rgba("+(a=(r=A.getImageData(u,t,1,1)).data)[0]+", "+a[1]+", "+a[2]+", "+a[3]/255+")");t+=z.height/F)if(1==e.which){A.fillStyle=H,A.fillRect(u,t,z.width/M,z.height/F);for(let n=u+z.width/M;n<=z.width&&d===(i="rgba("+(a=(r=A.getImageData(n,t,1,1)).data)[0]+", "+a[1]+", "+a[2]+", "+a[3]/255+")");n+=z.width/M)1==e.which?(A.fillStyle=H,A.fillRect(n,t,z.width/M,z.height/F),localStorage.setItem("canvasName",z.toDataURL()),ye()):3==e.which&&(A.fillStyle=B,A.fillRect(n,t,z.width/M,z.height/F),localStorage.setItem("canvasName",z.toDataURL()),ye());for(let n=u-z.width/M;n>=0&&d===(i="rgba("+(a=(r=A.getImageData(n,t,1,1)).data)[0]+", "+a[1]+", "+a[2]+", "+a[3]/255+")");n-=z.width/M)1==e.which?(A.fillStyle=H,A.fillRect(n,t,z.width/M,z.height/F),localStorage.setItem("canvasName",z.toDataURL()),ye()):3==e.which&&(A.fillStyle=B,A.fillRect(n,t,z.width/M,z.height/F),localStorage.setItem("canvasName",z.toDataURL()),ye());localStorage.setItem("canvasName",z.toDataURL()),ye()}else 3==e.which&&(A.fillStyle=B,A.fillRect(u,t,z.width/M,z.height/F),localStorage.setItem("canvasName",z.toDataURL()),ye());for(let t=m-z.height/F;t>=0&&d===(i="rgba("+(a=(r=A.getImageData(u,t,1,1)).data)[0]+", "+a[1]+", "+a[2]+", "+a[3]/255+")");t-=z.height/F)if(1==e.which){A.fillStyle=H,A.fillRect(u,t,z.width/M,z.height/F),localStorage.setItem("canvasName",z.toDataURL()),ye();for(let n=u+z.width/M;n<=z.width&&d===(i="rgba("+(a=(r=A.getImageData(n,t,1,1)).data)[0]+", "+a[1]+", "+a[2]+", "+a[3]/255+")");n+=z.width/M)1==e.which?(A.fillStyle=H,A.fillRect(n,t,z.width/M,z.height/F),localStorage.setItem("canvasName",z.toDataURL()),ye()):3==e.which&&(A.fillStyle=B,A.fillRect(n,t,z.width/M,z.height/F),localStorage.setItem("canvasName",z.toDataURL()),ye());for(let n=u-z.width/M;n>=0&&d===(i="rgba("+(a=(r=A.getImageData(n,t,1,1)).data)[0]+", "+a[1]+", "+a[2]+", "+a[3]/255+")");n-=z.width/M)1==e.which?(A.fillStyle=H,A.fillRect(n,t,z.width/M,z.height/F),localStorage.setItem("canvasName",z.toDataURL()),ye()):3==e.which&&(A.fillStyle=B,A.fillRect(n,t,z.width/M,z.height/F),localStorage.setItem("canvasName",z.toDataURL()),ye());localStorage.setItem("canvasName",z.toDataURL()),ye()}else 3==e.which&&(A.fillStyle=B,A.fillRect(u,t,z.width/M,z.height/F),localStorage.setItem("canvasName",z.toDataURL()),ye());for(let t=u+z.width/M;t<=z.width&&d===(i="rgba("+(a=(r=A.getImageData(t,m,1,1)).data)[0]+", "+a[1]+", "+a[2]+", "+a[3]/255+")");t+=z.width/M)1==e.which?(A.fillStyle=H,A.fillRect(t,m,z.width/M,z.height/F),localStorage.setItem("canvasName",z.toDataURL()),ye()):3==e.which&&(A.fillStyle=B,A.fillRect(t,m,z.width/M,z.height/F),localStorage.setItem("canvasName",z.toDataURL()),ye());for(let t=u-z.width/M;t>=0&&d===(i="rgba("+(a=(r=A.getImageData(t,m,1,1)).data)[0]+", "+a[1]+", "+a[2]+", "+a[3]/255+")");t-=z.width/M)1==e.which?(A.fillStyle=H,A.fillRect(t,m,z.width/M,z.height/F),localStorage.setItem("canvasName",z.toDataURL()),ye()):3==e.which&&(A.fillStyle=B,A.fillRect(t,m,z.width/M,z.height/F),localStorage.setItem("canvasName",z.toDataURL()),ye())}let k=null;function q(e){A.globalCompositeOperation="source-over",k=this,e.dataTransfer.effectAllowed="move",console.log(this.outerHTML);const t=this.querySelector(".canvas2");localStorage.setItem("framecanvasName",t.toDataURL()),console.log(t),e.dataTransfer.setData("text/html",this.outerHTML),this.classList.add("dragElem")}function R(e){return e.preventDefault&&e.preventDefault(),this.classList.add("over"),e.dataTransfer.dropEffect="move",!1}function I(e){console.log(e)}function C(e){console.log(e),this.classList.remove("over")}function D(e){if(e.stopPropagation&&e.stopPropagation(),k!=this){const n=document.querySelector(".frame-containers");this.parentNode.removeChild(k);var t=e.dataTransfer.getData("text/html");let r;this===n.children[0]?(this.insertAdjacentHTML("beforebegin",t),r=this.previousSibling):(this.insertAdjacentHTML("afterend",t),r=this.nextSibling);for(let e of n.children)e.classList.contains("active-frame")&&e.classList.remove("active-frame");r.classList.add("active-frame");const a=document.querySelector(".active-frame").querySelector(".canvas2").getContext("2d"),o=localStorage.getItem("framecanvasName"),s=new Image;s.src=o,s.onload=function(){a.drawImage(s,0,0),A.clearRect(0,0,z.width,z.height),A.imageSmoothingEnabled=!1,A.drawImage(s,0,0,640,640)};for(let e=0;e<n.children.length;e++)n.children[e].querySelector(".frame-number").innerHTML=e+1;U(r)}return this.classList.remove("over"),!1}function N(e){console.log(e),this.classList.remove("over")}function U(e){e.addEventListener("dragstart",q,!1),e.addEventListener("dragenter",I,!1),e.addEventListener("dragover",R,!1),e.addEventListener("dragleave",C,!1),e.addEventListener("drop",D,!1),e.addEventListener("dragend",N,!1)}function T(e){const t=document.querySelector(".row-0").querySelector(".active-button"),n=e.indexOf(t);let r;return r=0===n?e[n]:e[n-1]}function O(e){const t=document.querySelector(".row-0").querySelector(".active-button"),n=e.indexOf(t);let r;return r=n===e.length-1?e[n]:e[n+1]}const z=document.getElementById("pixel"),A=z.getContext("2d");let K=!1,M=32,F=32,j=32,P=32,H="#000000",B="#FFFFFF",X=1;const Y=document.querySelector("#pen"),_=document.querySelector("#stroke"),$=document.querySelector("#eraser"),J=document.querySelector("#bucketAll"),V=document.querySelector("#bucket"),G=document.querySelector("#picker"),Q=[Y,_,$,J,V,G],W=document.querySelector("#keyboard"),Z=document.querySelector("#unit-sizes-one"),ee=document.querySelector("#unit-sizes-two"),te=document.querySelector("#unit-sizes-three"),ne=document.querySelector("#unit-sizes-four"),re=[Z,ee,te,ne],ae=document.querySelector(".add-new-frame"),oe=document.querySelector("#small-canvas"),se=oe.getContext("2d"),ce=document.querySelector("#primary"),ie=document.querySelector("#secondary"),le=document.querySelector("#swap"),de=document.querySelector("#save"),ue=document.querySelector("#resize");let me,he=Number(document.querySelector("#cowbell").value);function fe(){K=!1,z.removeEventListener("click",h),z.removeEventListener("mousedown",w),z.removeEventListener("mousemove",S),z.removeEventListener("mouseup",L),z.removeEventListener("click",E),z.removeEventListener("click",ve),z.oncontextmenu=function(){return!1},z.addEventListener("mousedown",d),z.addEventListener("mousemove",u),z.addEventListener("mouseup",m)}function pe(e,t){for(let e=0;e<t.length;e++)t[e].classList.contains("active-button")&&t[e].classList.remove("active-button");e.classList.add("active-button")}function ve(e){A.globalCompositeOperation="source-over";let t=e.pageX-this.offsetLeft,n=e.pageY-this.offsetTop,r=A.getImageData(t,n,1,1).data,a="rgba("+r[0]+", "+r[1]+", "+r[2]+", "+r[3]/255+")";H=a,document.querySelector(".span-primary").style.background=H}function ge(){let e=document.querySelector(".frame-containers");for(let t of e.children)t.classList.contains("active-frame")&&t.classList.remove("active-frame");let t=document.querySelector(".frame-container").cloneNode(!0);X++,t.querySelector(".frame-number").innerHTML=X,t.classList.add("active-frame"),document.querySelector(".frame-containers").append(t),A.clearRect(0,0,z.width,z.height),U(t)}function ye(){const e=document.querySelector(".active-frame").querySelector(".canvas2"),t=e.getContext("2d");t.clearRect(0,0,e.width,e.height);const n=localStorage.getItem("canvasName"),r=new Image;r.src=n,r.onload=function(){t.imageSmoothingEnabled=!1,t.drawImage(r,0,0,e.width,e.height)}}document.querySelector("body").addEventListener("load",r(32,32,z,A)),window.addEventListener("load",(function(){Y.classList.add("active-button"),document.querySelector(".frame-container").classList.add("active-frame"),Z.classList.add("active-button"),z.removeEventListener("click",h),z.removeEventListener("mousedown",w),z.removeEventListener("mousemove",S),z.removeEventListener("mouseup",L),z.removeEventListener("click",E),z.removeEventListener("click",ve),z.oncontextmenu=function(){return!1},z.addEventListener("mousedown",d),z.addEventListener("mousemove",u),z.addEventListener("mouseup",m),me&&clearTimeout(me),me=Se(he)})),ce.addEventListener("change",(function(){H=this.value,document.querySelector(".span-primary").style.background=this.value})),ie.addEventListener("change",(function(){B=this.value,document.querySelector(".span-secondary").style.background=this.value})),le.addEventListener("click",(function(){!function(e,t){const n=e;e=t,document.querySelector(".span-primary").style.background=e,t=n,document.querySelector(".span-secondary").style.background=t}(H,B);const e=H;H=B,B=e})),document.querySelector("#resize").addEventListener("click",(function(){const e=document.querySelector(".button-size");!0===e.hidden?e.hidden=!1:e.hidden=!0,this.blur()})),document.querySelector("#thirty-two").addEventListener("click",(function(){a(32,32,z,A,r),M=32,F=32,j=32,P=32})),document.querySelector("#sixty-four").addEventListener("click",(function(){a(64,64,z,A,r),M=64,F=64,j=64,P=64})),document.querySelector("#one-hundred-and-twenty-eight").addEventListener("click",(function(){a(128,128,z,A,r),M=128,F=128,j=128,P=128})),document.querySelector("#pen").addEventListener("click",(function(){fe(),pe(Y,Q)})),Z.addEventListener("click",(function(){M=j,F=P,fe(),pe(Z,re),pe(Y,Q)})),ee.addEventListener("click",(function(){M=j/2,F=P/2,fe(),pe(ee,re),pe(Y,Q)})),te.addEventListener("click",(function(){M=j/3,F=P/3,fe(),pe(te,re),pe(Y,Q)})),ne.addEventListener("click",(function(){M=j/4,F=P/4,fe(),pe(ne,re),pe(Y,Q)})),J.addEventListener("click",(function(){K=!1,A.globalCompositeOperation="source-over",z.oncontextmenu=function(){return A.fillStyle=B,A.fillRect(0,0,z.width,z.height),localStorage.setItem("canvasName",z.toDataURL()),ye(),!1},z.removeEventListener("mousedown",d),z.removeEventListener("mousemove",u),z.removeEventListener("mouseup",m),z.removeEventListener("mousedown",w),z.removeEventListener("mousemove",S),z.removeEventListener("mouseup",L),z.removeEventListener("click",E),z.removeEventListener("click",ve),z.addEventListener("click",h),pe(J,Q)})),document.querySelector("#bucket").addEventListener("click",(function(){K=!1,A.globalCompositeOperation="source-over",z.oncontextmenu=function(){return A.fillStyle=B,A.fillRect(0,0,z.width,z.height),localStorage.setItem("canvasName",z.toDataURL()),!1},z.removeEventListener("mousedown",d),z.removeEventListener("mousemove",u),z.removeEventListener("mouseup",m),z.removeEventListener("mousedown",w),z.removeEventListener("mousemove",S),z.removeEventListener("mouseup",L),z.removeEventListener("click",h),z.removeEventListener("click",ve),z.addEventListener("click",E),pe(V,Q)})),document.querySelector("#eraser").addEventListener("click",(function(){K=!0,z.removeEventListener("click",h),z.removeEventListener("mousedown",w),z.removeEventListener("mousemove",S),z.removeEventListener("mouseup",L),z.removeEventListener("click",E),z.removeEventListener("click",ve),z.addEventListener("mousedown",d),z.addEventListener("mousemove",u),z.addEventListener("mouseup",m),pe($,Q)})),document.querySelector("#stroke").addEventListener("click",(function(){z.removeEventListener("mousedown",d),z.removeEventListener("mousemove",u),z.removeEventListener("mouseup",m),z.removeEventListener("click",h),z.removeEventListener("click",E),z.removeEventListener("click",ve),z.addEventListener("mousedown",w),z.addEventListener("mousemove",S),z.addEventListener("mouseup",L),pe(_,Q)})),G.addEventListener("click",(function(){z.removeEventListener("mousedown",d),z.removeEventListener("mousemove",u),z.removeEventListener("mouseup",m),z.removeEventListener("mousedown",w),z.removeEventListener("mousemove",S),z.removeEventListener("mouseup",L),z.removeEventListener("click",h),z.removeEventListener("click",E),z.oncontextmenu=function(){A.globalCompositeOperation="source-over";let e=event.pageX-this.offsetLeft,t=event.pageY-this.offsetTop,n=A.getImageData(e,t,1,1).data,r="rgba("+n[0]+", "+n[1]+", "+n[2]+", "+n[3]/255+")";return B=r,document.querySelector(".span-secondary").style.background=B,!1},z.addEventListener("click",ve),pe(G,Q)})),ae.addEventListener("click",ge),document.querySelector(".frames").addEventListener("mouseover",(function(e){let t=e.target.closest(".frame-container");if(!t)return;let n=t.querySelectorAll("button");for(let e of n)e.style.opacity="1"})),document.querySelector(".frames").addEventListener("mouseout",(function(e){let t=e.target.closest(".frame-container");if(!t)return;let n=t.querySelectorAll("button");for(let e of n)e.style.opacity="0"})),document.querySelector("main").addEventListener("click",(function(){!function(e){A.globalCompositeOperation="source-over";let t=e.target.closest(".canvas-container-delete");if(!t)return;let n=t.closest(".frame-container"),r=document.querySelector(".frame-containers"),a=Array.from(r.children).indexOf(n);if(r.children.length>1){for(let e of r.children)e.classList.contains("active-frame")&&e.classList.remove("active-frame");n.remove()}for(let e=0;e<r.children.length;e++)r.children[e].querySelector(".frame-number").innerHTML=e+1;a>=r.children.length&&(a=r.children.length-1),Array.from(r.children)[a].classList.add("active-frame");const o=document.querySelector(".active-frame").querySelector(".canvas2").toDataURL(),s=new Image;s.src=o,s.onload=function(){A.clearRect(0,0,z.width,z.height),A.imageSmoothingEnabled=!1,A.drawImage(s,0,0,640,640)}}(event),function(e){let t=e.target.closest(".canvas-container-duplicate");if(!t)return;A.globalCompositeOperation="source-over";const n=t.closest(".frame-container"),r=n.querySelector(".canvas2").toDataURL(),a=n.cloneNode(!0),o=a.querySelector(".canvas2").getContext("2d"),s=new Image;s.src=r,s.onload=function(){o.drawImage(s,0,0),A.clearRect(0,0,z.width,z.height),A.imageSmoothingEnabled=!1,A.drawImage(s,0,0,640,640)},n.after(a),X++;let c=document.querySelector(".frame-containers");for(let e of c.children)e.classList.contains("active-frame")&&e.classList.remove("active-frame");a.classList.add("active-frame");for(let e=0;e<c.children.length;e++)c.children[e].querySelector(".frame-number").innerHTML=e+1;U(a),me&&clearTimeout(me);me=Se(he)}(event),X=document.querySelector(".frame-containers").children.length})),document.querySelector(".frame-containers").addEventListener("click",(function(e){let t=e.target.closest(".frame-container"),n=document.querySelector(".frame-containers");for(let e of n.children)e.classList.contains("active-frame")&&e.classList.remove("active-frame");A.globalCompositeOperation="source-over",t.classList.add("active-frame");const r=t.querySelector(".canvas2").toDataURL(),a=new Image;a.src=r,a.onload=function(){A.clearRect(0,0,z.width,z.height),A.imageSmoothingEnabled=!1,A.drawImage(a,0,0,640,640)}})),U(document.querySelector(".frame-container"));const be=document.querySelectorAll(".frame-containers .frame-container");[].forEach.call(be,U);let we=0;function Se(e){let t=setInterval(()=>{const e=function(){const e=[],t=document.querySelector(".frame-containers");for(let n=0;n<t.children.length;n++){const r=t.children[n].querySelector(".canvas2").toDataURL();e.push(r)}return e}();let t=e[we%e.length];0===e.length&&(t=e[0]),function(e){const t=new Image;t.src=e,t.onload=function(){se.clearRect(0,0,oe.width,oe.height),A.imageSmoothingEnabled=!1,se.drawImage(t,0,0,200,200)}}(t),we++},1e3/e);return 0===e&&clearTimeout(t),t}document.querySelector("#cowbell").addEventListener("input",(function(){he=Number(document.querySelector("#cowbell").value),document.querySelector(".speed-animation label").textContent=`${he} FPS`,me&&clearTimeout(me),me=Se(he)})),document.querySelector(".additional-tools").addEventListener("mouseover",(function(e){let t=e.target.closest(".small-animation");if(!t)return;let n=t.querySelectorAll("button");for(let e of n)e.style.opacity="1"})),document.querySelector(".additional-tools").addEventListener("mouseout",(function(e){let t=e.target.closest(".small-animation");if(!t)return;let n=t.querySelectorAll("button");for(let e of n)e.style.opacity="0"})),document.querySelector("#full-screen-mode").addEventListener("click",(function(){var e;(e=oe).requestFullscreen?e.requestFullscreen():e.webkitrequestFullscreen?e.webkitRequestFullscreen():e.mozRequestFullscreen&&e.mozRequestFullScreen()})),document.addEventListener("keydown",e=>{switch(e.code){case"KeyB":V.click();break;case"KeyD":ce.click();break;case"KeyF":ie.click();break;case"KeyG":le.click();break;case"KeyP":Y.click();break;case"KeyO":G.click();break;case"KeyE":$.click();break;case"KeyT":_.click();break;case"KeyA":J.click();break;case"KeyS":de.click();break;case"KeyR":ue.click();break;case"KeyK":W.click()}}),document.addEventListener("keydown",(function(e){if("KeyV"==e.code&&(e.ctrlKey||e.metaKey))ge();else if("KeyC"==e.code&&(e.ctrlKey||e.metaKey))!function(){const e=document.querySelector(".active-frame"),t=e.querySelector(".canvas2").toDataURL(),n=e.cloneNode(!0),r=n.querySelector(".canvas2").getContext("2d"),a=new Image;a.src=t,a.onload=function(){r.drawImage(a,0,0),A.clearRect(0,0,z.width,z.height),A.imageSmoothingEnabled=!1,A.drawImage(a,0,0,640,640)},e.after(n),X++;let o=document.querySelector(".frame-containers");for(let e of o.children)e.classList.contains("active-frame")&&e.classList.remove("active-frame");n.classList.add("active-frame");for(let e=0;e<o.children.length;e++)o.children[e].querySelector(".frame-number").innerHTML=e+1;U(n),me&&clearTimeout(me);me=Se(he)}(),X=document.querySelector(".frame-containers").children.length;else if("KeyX"==e.code&&(e.ctrlKey||e.metaKey))!function(){const e=document.querySelector(".active-frame"),t=document.querySelector(".frame-containers");let n=Array.from(t.children).indexOf(e);if(t.children.length>1){for(let e of t.children)e.classList.contains("active-frame")&&e.classList.remove("active-frame");e.remove()}for(let e=0;e<t.children.length;e++)t.children[e].querySelector(".frame-number").innerHTML=e+1;n>=t.children.length&&(n=t.children.length-1),Array.from(t.children)[n].classList.add("active-frame");const r=document.querySelector(".active-frame").querySelector(".canvas2").toDataURL(),a=new Image;a.src=r,a.onload=function(){A.clearRect(0,0,z.width,z.height),A.imageSmoothingEnabled=!1,A.drawImage(a,0,0,640,640)}}(),X=document.querySelector(".frame-containers").children.length;else if("BracketLeft"==e.code){let e=T(re),t=function(e,t){let n;switch(e(t)){case t[0]:n=1;break;case t[1]:n=2;break;case t[2]:n=3;break;case t[3]:n=4}return n}(T,re);M=j/t,F=P/t,fe(),pe(e,re),pe(Y,Q)}else if("BracketRight"==e.code){let e=O(re),t=function(e,t){let n;switch(e(t)){case t[0]:n=1;break;case t[1]:n=2;break;case t[2]:n=3;break;case t[3]:n=4}return n}(O,re);M=j/t,F=P/t,fe(),pe(e,re),pe(Y,Q)}})),document.querySelector("#keyboard").addEventListener("click",(function(){document.querySelector(".modal-windown").removeAttribute("hidden"),this.blur()})),document.querySelector("#close").addEventListener("click",(function(){document.querySelector(".modal-windown").setAttribute("hidden",!0),this.blur()})),document.querySelector(".modal-windown").addEventListener("input",()=>{!function(e){let t=e.target.closest(".next-shortcuts");if(!t)return;const n=t.value.toUpperCase(),r=t.closest("div");r.querySelector(".current-shortcuts").textContent=t.value;const a=r.classList.value.split(" ")[1],o=document.querySelector(`#${a}`);document.addEventListener("keydown",e=>{switch(e.code){case`Key${n}`:o.click()}})}(event)});n(26),n(28)}]);
//# sourceMappingURL=pageTwo.bundle.js.map