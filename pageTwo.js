!function(e){var t={};function n(r){if(t[r])return t[r].exports;var a=t[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(r,a,function(t){return e[t]}.bind(null,a));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=25)}([function(e,t,n){"use strict";var r,a={},o=function(){return void 0===r&&(r=Boolean(window&&document&&document.all&&!window.atob)),r},s=function(){var e={};return function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}e[t]=n}return e[t]}}();function c(e,t){for(var n=[],r={},a=0;a<e.length;a++){var o=e[a],s=t.base?o[0]+t.base:o[0],c={css:o[1],media:o[2],sourceMap:o[3]};r[s]?r[s].parts.push(c):n.push(r[s]={id:s,parts:[c]})}return n}function i(e,t){for(var n=0;n<e.length;n++){var r=e[n],o=a[r.id],s=0;if(o){for(o.refs++;s<o.parts.length;s++)o.parts[s](r.parts[s]);for(;s<r.parts.length;s++)o.parts.push(p(r.parts[s],t))}else{for(var c=[];s<r.parts.length;s++)c.push(p(r.parts[s],t));a[r.id]={id:r.id,refs:1,parts:c}}}}function l(e){var t=document.createElement("style");if(void 0===e.attributes.nonce){var r=n.nc;r&&(e.attributes.nonce=r)}if(Object.keys(e.attributes).forEach((function(n){t.setAttribute(n,e.attributes[n])})),"function"==typeof e.insert)e.insert(t);else{var a=s(e.insert||"head");if(!a)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");a.appendChild(t)}return t}var d,u=(d=[],function(e,t){return d[e]=t,d.filter(Boolean).join("\n")});function m(e,t,n,r){var a=n?"":r.css;if(e.styleSheet)e.styleSheet.cssText=u(t,a);else{var o=document.createTextNode(a),s=e.childNodes;s[t]&&e.removeChild(s[t]),s.length?e.insertBefore(o,s[t]):e.appendChild(o)}}function h(e,t,n){var r=n.css,a=n.media,o=n.sourceMap;if(a&&e.setAttribute("media",a),o&&btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),e.styleSheet)e.styleSheet.cssText=r;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(r))}}var f=null,v=0;function p(e,t){var n,r,a;if(t.singleton){var o=v++;n=f||(f=l(t)),r=m.bind(null,n,o,!1),a=m.bind(null,n,o,!0)}else n=l(t),r=h.bind(null,n,t),a=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(n)};return r(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r(e=t)}else a()}}e.exports=function(e,t){(t=t||{}).attributes="object"==typeof t.attributes?t.attributes:{},t.singleton||"boolean"==typeof t.singleton||(t.singleton=o());var n=c(e,t);return i(n,t),function(e){for(var r=[],o=0;o<n.length;o++){var s=n[o],l=a[s.id];l&&(l.refs--,r.push(l))}e&&i(c(e,t),t);for(var d=0;d<r.length;d++){var u=r[d];if(0===u.refs){for(var m=0;m<u.parts.length;m++)u.parts[m]();delete a[u.id]}}}}},function(e,t,n){e.exports=n.p+"images/3a28c3c1e2c898ac6d12f003af4ac17c.png"},function(e,t,n){e.exports=n.p+"images/c324e3766924b01c7da1cff6343de761.png"},function(e,t,n){e.exports=n.p+"images/409cde9c0b76aefb54395dd3a6b62d9f.png"},function(e,t,n){e.exports=n.p+"images/e2d607fbfbe66610b061e1405f5d8631.png"},function(e,t,n){e.exports=n.p+"images/c87ad67c6e604ccfd30e69fbcfb89433.png"},function(e,t,n){e.exports=n.p+"images/a38cfec2d247f5eea7ec3c87177bc7b2.png"},function(e,t,n){e.exports=n.p+"images/f8239f2d9ad011ed25b8a1642f2e467f.png"},function(e,t,n){e.exports=n.p+"images/70bb3ef08f9d2ab04133a0ea0398e4f2.png"},function(e,t,n){e.exports=n.p+"images/3f3b3b98b3014d7a6bf1e746ee89a827.png"},function(e,t,n){e.exports=n.p+"images/f314d7d6d5c02325eed305a5927f80d4.png"},function(e,t,n){e.exports=n.p+"images/b972192bf67a5598eedf16ed33f7bf89.png"},function(e,t,n){e.exports=n.p+"images/8d900a81a2a44e22080a32cc8be0c2f0.png"},,,,,,function(e,t,n){var r=n(19);"string"==typeof r&&(r=[[e.i,r,""]]);var a={insert:"head",singleton:!1};n(0)(r,a);r.locals&&(e.exports=r.locals)},function(e,t,n){},function(e,t,n){e.exports='<!DOCTYPE html>\r\n<html lang="en">\r\n\r\n<head>\r\n  <meta charset="UTF-8">\r\n  <meta name="viewport" content="width=device-width, initial-scale=1.0">\r\n  <meta http-equiv="X-UA-Compatible" content="ie=edge">\r\n  <link href="https://fonts.googleapis.com/css?family=Roboto&display=swap" rel="stylesheet">\r\n  <meta name="google-signin-client_id" content="821675323708-qvhlid3otc9perjhd0omb6jabuqm92qd.apps.googleusercontent.com">\r\n  <title>simple animation player</title>\r\n</head>\r\n\r\n<body>\r\n  <div class="wrapper">\r\n    <header>\r\n      <p class="logotip"><img src="'+n(21)+'" alt="logotip"></p>\r\n      <p class="decription">New Piskel</p>\r\n      <div class="nav-button">\r\n        <button id="my-signin2" class="my-signin2" data-theme="dark" ata-width="50" data-height="20" data-longtitle="true"></button>\r\n        <span id="userName" class="user-name"></span>\r\n        <button id="sing-out" class="sing-out" hidden>Sign out</button>\r\n        <button class="create-sprite">Create sprite</button>\r\n      </div>\r\n    </header>\r\n    <main>\r\n      <div class="main-tools">\r\n        <div class="tools">\r\n          <div class="row-0">\r\n            <button id="unit-sizes-one"><span class="span-unit-sizes-one"></span></button>\r\n            <button id="unit-sizes-two"><span class="span-unit-sizes-two"></span></button>\r\n            <button id="unit-sizes-three"><span class="span-unit-sizes-three"></span></button>\r\n            <button id="unit-sizes-four"><span class="span-unit-sizes-four"></span></button>\r\n          </div>\r\n          <div class="row-1">\r\n            <button id="pen"><img src="'+n(1)+'" alt="pen"></button>\r\n            <button id="stroke"><img src="'+n(2)+'" alt="stroke"></button>\r\n          </div>\r\n          <div class="row-2">\r\n            <button id="eraser"><img src="'+n(3)+'" alt="eraser"></button>\r\n            <button id="paint-bucketAll"><img src="'+n(4)+'" alt="colorswap"></button>\r\n          </div>\r\n          <div class="row-3">\r\n            <button id="bucket"><img src="'+n(5)+'" alt="paint-bucket"></button>\r\n            <button id="color-picker"><img src="'+n(22)+'" alt="paint-bucket"></button>\r\n          </div>\r\n          <div class="row-4">\r\n            <div class="first-color">\r\n              <input type="color" value="#000000" id="primary" hidden><label class="label" for="primary"><span class="span-primary"></span></label>\r\n            </div>\r\n            <div class="swap-color">\r\n              <input type="color" value="#FFFFFF" id="secondary" hidden><label class="label" for="secondary"><span class="span-secondary"></span></label>\r\n              <button id="swap-colors"><img src="'+n(6)+'" alt="swapcolors"></button>\r\n            </div>\r\n          </div>\r\n          <div class="row-5">\r\n            <button id="keyboard"><img src="'+n(7)+'" alt="keyboard"></button>\r\n            <div class="modal-windown" hidden>\r\n              <p><span class="about-modal-windown">Keyboard shotcuts</span><button id="close" class="close">&#9746;</button></p>\r\n              <div class="column-div">\r\n                <div class="colum-1">\r\n                  <div class="tool pen">\r\n                    <span class="image"><img src="'+n(1)+'" alt="pen"></span>\r\n                    <span class="tool-name">pen</span>\r\n                    <span class="current-shortcuts">P</span>\r\n                    <input class="next-shortcuts" type="text" placeholder="Change?">\r\n                  </div>\r\n                  <div class="tool stroke">\r\n                    <span class="image"><img src="'+n(2)+'" alt="stroke"></span>\r\n                    <span class="tool-name">stroke</span>\r\n                    <span class="current-shortcuts">T</span>\r\n                    <input class="next-shortcuts" type="text" placeholder="Change?">\r\n                  </div>\r\n                  <div class="tool eraser">\r\n                    <span class="image"><img src="'+n(3)+'" alt="eraser"></span>\r\n                    <span class="tool-name">eraser</span>\r\n                    <span class="current-shortcuts">E</span>\r\n                    <input class="next-shortcuts" type="text" placeholder="Change?">\r\n                  </div>\r\n                  <div class="tool colorswap">\r\n                    <span class="image"><img src="'+n(4)+'" alt="colorswap"></span>\r\n                    <span class="tool-name">colorswap</span>\r\n                    <span class="current-shortcuts">A</span>\r\n                    <input class="next-shortcuts" type="text" placeholder="Change?">\r\n                  </div>\r\n                  <div class="tool bucket">\r\n                    <span class="image"><img src="'+n(5)+'" alt="paint-bucket"></span>\r\n                    <span class="tool-name">bucket</span>\r\n                    <span class="current-shortcuts">B</span>\r\n                    <input class="next-shortcuts" type="text" placeholder="Change?">\r\n                  </div>\r\n                  <div class="tool swapcolors">\r\n                    <span class="image"><img src="'+n(6)+'" alt="swapcolors"></span>\r\n                    <span class="tool-name">swapcolors</span>\r\n                    <span class="current-shortcuts">J</span>\r\n                    <input class="next-shortcuts" type="text" placeholder="Change?">\r\n                  </div>\r\n                  <div class="tool delete-frame">\r\n                    <span class="image"><img src="'+n(8)+'" alt="recyclebin"></span>\r\n                    <span class="tool-name">delete frame</span>\r\n                    <span class="current-shortcuts">Ctrl + X</span>\r\n                    <input class="next-shortcuts" type="text" placeholder="Change?">\r\n                  </div>\r\n                  <div class="tool add-frame">\r\n                    <span class="image"><img src="'+n(9)+'" alt="plus"></span>\r\n                    <span class="tool-name">add frame</span>\r\n                    <span class="current-shortcuts">Ctrl + V</span>\r\n                    <input class="next-shortcuts" type="text" placeholder="Change?">\r\n                  </div>\r\n                </div>\r\n                <div class="colum-2">\r\n                  <div class="tool dublicate-frame">\r\n                    <span class="image"><img src="'+n(10)+'" alt="duplicate"></span>\r\n                    <span class="tool-name">dublicate frame</span>\r\n                    <span class="current-shortcuts">Ctrl + C</span>\r\n                    <input class="next-shortcuts" type="text" placeholder="Change?">\r\n                  </div>\r\n                  <div class="tool save">\r\n                    <span class="image"><img src="'+n(11)+'" alt="save"></span>\r\n                    <span class="tool-name">save canvas</span>\r\n                    <span class="current-shortcuts">S</span>\r\n                    <input class="next-shortcuts" type="text" placeholder="Change?">\r\n                  </div>\r\n                  <div class="tool resize">\r\n                    <span class="image"><img src="'+n(12)+'" alt="resize"></span>\r\n                    <span class="tool-name">resize canvas</span>\r\n                    <span class="current-shortcuts">R</span>\r\n                    <input class="next-shortcuts" type="text" placeholder="Change?">\r\n                  </div>\r\n                  <div class="tool keyboard">\r\n                    <span class="image"><img src="'+n(7)+'" alt="keyboard"></span>\r\n                    <span class="tool-name">keyboard</span>\r\n                    <span class="current-shortcuts">K</span>\r\n                    <input class="next-shortcuts" type="text" placeholder="Change?">\r\n                  </div>\r\n                  <div class="tool increase-size-pen">\r\n                    <span class="tool-name">increase pen size</span>\r\n                    <span class="current-shortcuts">[</span>\r\n                    <input class="next-shortcuts" type="text" placeholder="Change?">\r\n                  </div>\r\n                  <div class="tool increase-size-pen">\r\n                    <span class="tool-name">decrease pen size</span>\r\n                    <span class="current-shortcuts">]</span>\r\n                    <input class="next-shortcuts" type="text" placeholder="Change?">\r\n                  </div>\r\n                  <div class="tool primary-color">\r\n                    <span class="tool-name">primary-color</span>\r\n                    <span class="current-shortcuts">L</span>\r\n                    <input class="next-shortcuts" type="text" placeholder="Change?">\r\n                  </div>\r\n                  <div class="tool secondary-color">\r\n                    <span class="tool-name">secondary-color</span>\r\n                    <span class="current-shortcuts">K</span>\r\n                    <input class="next-shortcuts" type="text" placeholder="Change?">\r\n                  </div>\r\n                  <div class="tool save-changes">\r\n                    <button id="save-changes">Save changes</button>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class="frames">\r\n        <ul class="frame-containers">\r\n          <li class="frame-container" draggable="true">\r\n            <div class="canvas-container">\r\n              <canvas id="pixel2" class="canvas2" width="106" height="106"></canvas>\r\n              <span class="frame-number">1</span>\r\n              <button class="canvas-container-delete"><img src="'+n(8)+'" alt="recyclebin"></button>\r\n              <button class="canvas-container-dragndrop"><img src="'+n(23)+'" alt="dragndrop"></button>\r\n              <button class="canvas-container-duplicate"><img src="'+n(10)+'" alt="duplicate"></button>\r\n            </div>\r\n          </li>\r\n        </ul>\r\n        <button class="add-new-frame">\r\n\t\t\t\t\t<div><img src="'+n(9)+'" alt="plus"></div>\r\n\t\t\t\t\t<p>Add new frame</p>\r\n\t\t\t\t</button>\r\n\r\n      </div>\r\n      <div class="works-place">\r\n        <canvas id="pixel" height=\'640\' width=\'640\'></canvas>\r\n      </div>\r\n      <div class="additional-tools">\r\n        <div class="small-animation">\r\n          <canvas id="small-canvas" width="200" height="200"></canvas>\r\n          <button class="full-screen" id="full-screen-mode"><img src="'+n(24)+'" alt="full-screen-mode"></button>\r\n          <div class="speed-animation">\r\n            <label for="cowbell">1 FPS</label>\r\n            <input type="range" id="cowbell" name="cowbell" min="0" max="24" value="1" step="1">\r\n          </div>\r\n        </div>\r\n        <div class="setting-button">\r\n          <div hidden class="button-size">\r\n            <button id="thirty-two">32x32</button>\r\n            <button id="sixty-four">64x64</button>\r\n            <button id="one-hundred-and-twenty-eight">128x128</button>\r\n          </div>\r\n          <button id="resize"><img src="'+n(12)+'" alt="resize"></button>\r\n          <a id="save" href="" download="my-file-name.gif"><img src="'+n(11)+"\" alt=\"save\"></a>\r\n        </div>\r\n        <p class=\"size-canvas\"></p>\r\n      </div>\r\n    </main>\r\n  </div>\r\n  <script>\r\n    const buttonSingIn = document.querySelector('#my-signin2');\r\n    const buttonSingOut = document.querySelector('#sing-out');\r\n    const img = new Image();\r\n\r\n    function signIn() {\r\n      const auth2 = gapi.auth2.getAuthInstance();\r\n      auth2.signIn({\r\n        scope: 'https://www.googleapis.com/auth/drive'\r\n      }).then((googleUser) => {\r\n        buttonSingIn.setAttribute('hidden', 'true');\r\n        buttonSingOut.removeAttribute('hidden');\r\n        const profile = googleUser.getBasicProfile();\r\n        img.src = profile.getImageUrl();\r\n        img.classList.add('profile-image');\r\n        userName.textContent = `Hi ${profile.getName()}!`;\r\n        userName.after(img);\r\n      })\r\n    }\r\n\r\n    function signOut() {\r\n      const auth2 = gapi.auth2.getAuthInstance();\r\n      auth2.signOut().then(function() {\r\n        userName.textContent = '';\r\n        const img = document.querySelector('.profile-image');\r\n        img.remove();\r\n        buttonSingOut.setAttribute('hidden', 'true');\r\n        buttonSingIn.removeAttribute('hidden');\r\n      });\r\n    }\r\n\r\n    function renderButton() {\r\n      gapi.signin2.render('my-signin2', {\r\n        'width': 150,\r\n        'height': 24,\r\n        'longtitle': true,\r\n      });\r\n    }\r\n\r\n    document.querySelector('#my-signin2').addEventListener('click', signIn);\r\n    document.querySelector('#sing-out').addEventListener('click', signOut)\r\n  <\/script>\r\n  <script src=\"https://apis.google.com/js/platform.js\" async defer><\/script>\r\n  <script src=\"https://apis.google.com/js/platform.js?onload=renderButton\" async defer><\/script>\r\n</body>\r\n\r\n</html>"},function(e,t,n){e.exports=n.p+"images/261cc38cf12d97483bb904ace81a7f03.png"},function(e,t,n){e.exports=n.p+"images/839092635cca7d43955dba23ef41d4c4.png"},function(e,t,n){e.exports=n.p+"images/9f83cee78c8eed05d835d384423fc619.png"},function(e,t,n){e.exports=n.p+"images/4b4bf9283f7e812798aad351925f0bbb.svg"},function(e,t,n){"use strict";function r(e,t,n,r){const{width:a}=n,{height:o}=n,s=a/e,c=o/t;document.querySelector(".size-canvas").textContent=`[${e}-${t}]`;for(let n=0;n<=e;n++)for(let e=0;e<=t;e++)r.fillStyle="rgb(0, 255, 0, 0)",r.fillRect(s*n,c*e,s,c)}function a(e,t,n,r,a){a(e,t,n,r),document.querySelector(".button-size").hidden=!0}function o(e,t){const n=[];for(let r=e/t;r<=e-e/t;r+=e/t)n.push(r);return n}function s(e,t){const n=[];for(let r=e/t;r<=e-e/t;r+=e/t)n.push(r);return n}function c(e,t){for(let n=0;n<e.length;n++){if(t<e[0]){t=0;break}if(t>=e[n]&&t<e[n+1]&&(t=e[n]),t>=e[e.length-1]){t=e[e.length-1];break}}return t}n.r(t);let i=!1;const l={x:0,y:0};function d(e){let t=o(T.width,A),n=s(T.height,M);T.width==T.width/A?(l.x=0,l.y=0):(l.x=e.pageX-this.offsetLeft,l.x=c(t,l.x),l.y=e.pageY-this.offsetTop,l.y=c(n,l.y)),i=!0,O.globalCompositeOperation=1==z?"destination-out":"source-over",1==e.which?(O.beginPath(),O.fillStyle=j,O.fillRect(l.x,l.y,T.width/A,T.height/M),localStorage.setItem("canvasName",T.toDataURL()),pe()):3==e.which&&(O.beginPath(),O.fillStyle=P,O.fillRect(l.x,l.y,T.width/A,T.height/M),localStorage.setItem("canvasName",T.toDataURL()),pe())}function u(e){e.preventDefault();let t=o(T.width,A),n=s(T.height,M);O.globalCompositeOperation=1==z?"destination-out":"source-over",!0===i&&(T.width==T.width/A?(l.x=0,l.y=0):(l.x=e.pageX-this.offsetLeft,l.x=c(t,l.x),l.y=e.pageY-this.offsetTop,l.y=c(n,l.y)),1==e.which?(O.fillStyle=j,O.fillRect(l.x,l.y,T.width/A,T.height/M),localStorage.setItem("canvasName",T.toDataURL()),pe()):3==e.which&&(O.fillStyle=P,O.fillRect(l.x,l.y,T.width/A,T.height/M),localStorage.setItem("canvasName",T.toDataURL()),pe()))}function m(){i=!1}function h(e){1==e.which?(O.fillStyle=j,O.fillRect(0,0,T.width,T.height),localStorage.setItem("canvasName",T.toDataURL()),pe()):3==e.which&&(O.fillStyle=P,O.fillRect(0,0,T.width,T.height),localStorage.setItem("canvasName",T.toDataURL()),pe())}let f=!1;const v={x:0,y:0};let p,g,y,b;function w(e){let t=o(T.width,A),n=s(T.height,M);T.width==T.width/A?(v.x=0,v.y=0,p=v.x,g=v.y):(v.x=e.pageX-this.offsetLeft,v.x=c(t,v.x),v.y=e.pageY-this.offsetTop,v.y=c(n,v.y),p=v.x,g=v.y),f=!0}function L(e){e.preventDefault();let t=o(T.width,A),n=s(T.height,M);!0===f&&(T.width==T.width/A?(v.x=0,v.y=0,y=v.x,b=v.y):(v.x=e.pageX-this.offsetLeft,v.x=c(t,v.x),v.y=e.pageY-this.offsetTop,v.y=c(n,v.y),y=v.x,b=v.y))}function S(){const e=Math.min(p,y),t=Math.max(p,y),n=Math.min(g,b),r=Math.max(g,b);if(1==event.which){let a,o;console.log(`begin ${p} ${g}`),console.log(`finish ${y} ${b}`);const s=Math.max(t,r);for(a=e,o=n;o<=s;a+=T.width/A,o+=T.height/M){O.beginPath();let e=a,n=o;O.fillStyle=j,a>t&&(e=t),o>r&&(n=r),console.log(`${e} ${n}`),O.fillRect(e,n,T.width/A,T.height/M)}localStorage.setItem("canvasName",T.toDataURL())}else if(3==event.which){let e,t;for(e=p,t=g;t<=b;e+=T.width/A,t+=T.height/M)O.beginPath(),O.fillStyle=P,O.fillRect(e,t,T.width/A,T.height/M);localStorage.setItem("canvasName",T.toDataURL())}f=!1}const x={x:0,y:0};function E(e){const t=o(T.width,A),n=s(T.height,M);T.width==T.width/A?(x.x=0,x.y=0):(x.x=e.pageX-this.offsetLeft,x.x=c(t,x.x),x.y=e.pageY-this.offsetTop,x.y=c(n,x.y));let r,a,i,l=O.getImageData(x.x,x.y,1,1).data,d="rgba("+l[0]+", "+l[1]+", "+l[2]+", "+l[3]/255+")",u=x.x,m=x.y;console.log(`first ${x.x} ${x.y} `);for(let t=m;t<=T.height&&d===(i="rgba("+(a=(r=O.getImageData(u,t,1,1)).data)[0]+", "+a[1]+", "+a[2]+", "+a[3]/255+")");t+=T.height/M)if(1==e.which){O.fillStyle=j,O.fillRect(u,t,T.width/A,T.height/M);for(let n=u+T.width/A;n<=T.width&&d===(i="rgba("+(a=(r=O.getImageData(n,t,1,1)).data)[0]+", "+a[1]+", "+a[2]+", "+a[3]/255+")");n+=T.width/A)1==e.which?(O.fillStyle=j,O.fillRect(n,t,T.width/A,T.height/M),localStorage.setItem("canvasName",T.toDataURL())):3==e.which&&(O.fillStyle=P,O.fillRect(n,t,T.width/A,T.height/M),localStorage.setItem("canvasName",T.toDataURL()));for(let n=u-T.width/A;n>=0&&d===(i="rgba("+(a=(r=O.getImageData(n,t,1,1)).data)[0]+", "+a[1]+", "+a[2]+", "+a[3]/255+")");n-=T.width/A)1==e.which?(O.fillStyle=j,O.fillRect(n,t,T.width/A,T.height/M),localStorage.setItem("canvasName",T.toDataURL())):3==e.which&&(O.fillStyle=P,O.fillRect(n,t,T.width/A,T.height/M),localStorage.setItem("canvasName",T.toDataURL()));localStorage.setItem("canvasName",T.toDataURL())}else 3==e.which&&(O.fillStyle=P,O.fillRect(u,t,T.width/A,T.height/M),localStorage.setItem("canvasName",T.toDataURL()));for(let t=m-T.height/M;t>=0&&(console.log(`next ${u} ${t} `),i="rgba("+(a=(r=O.getImageData(u,t,1,1)).data)[0]+", "+a[1]+", "+a[2]+", "+a[3]/255+")",console.log(d),console.log(i),d===i);t-=T.height/M)if(console.log(5),1==e.which){O.fillStyle=j,O.fillRect(u,t,T.width/A,T.height/M);for(let n=u+T.width/A;n<=T.width&&d===(i="rgba("+(a=(r=O.getImageData(n,t,1,1)).data)[0]+", "+a[1]+", "+a[2]+", "+a[3]/255+")");n+=T.width/A)1==e.which?(O.fillStyle=j,O.fillRect(n,t,T.width/A,T.height/M),localStorage.setItem("canvasName",T.toDataURL())):3==e.which&&(O.fillStyle=P,O.fillRect(n,t,T.width/A,T.height/M),localStorage.setItem("canvasName",T.toDataURL()));for(let n=u-T.width/A;n>=0&&d===(i="rgba("+(a=(r=O.getImageData(n,t,1,1)).data)[0]+", "+a[1]+", "+a[2]+", "+a[3]/255+")");n-=T.width/A)1==e.which?(O.fillStyle=j,O.fillRect(n,t,T.width/A,T.height/M),localStorage.setItem("canvasName",T.toDataURL())):3==e.which&&(O.fillStyle=P,O.fillRect(n,t,T.width/A,T.height/M),localStorage.setItem("canvasName",T.toDataURL()));localStorage.setItem("canvasName",T.toDataURL())}else 3==e.which&&(O.fillStyle=P,O.fillRect(u,t,T.width/A,T.height/M),localStorage.setItem("canvasName",T.toDataURL()));for(let t=u+T.width/A;t<=T.width&&d===(i="rgba("+(a=(r=O.getImageData(t,m,1,1)).data)[0]+", "+a[1]+", "+a[2]+", "+a[3]/255+")");t+=T.width/A)1==e.which?(O.fillStyle=j,O.fillRect(t,m,T.width/A,T.height/M),localStorage.setItem("canvasName",T.toDataURL())):3==e.which&&(O.fillStyle=P,O.fillRect(t,m,T.width/A,T.height/M),localStorage.setItem("canvasName",T.toDataURL()));for(let t=u-T.width/A;t>=0&&d===(i="rgba("+(a=(r=O.getImageData(t,m,1,1)).data)[0]+", "+a[1]+", "+a[2]+", "+a[3]/255+")");t-=T.width/A)1==e.which?(O.fillStyle=j,O.fillRect(t,m,T.width/A,T.height/M),localStorage.setItem("canvasName",T.toDataURL())):3==e.which&&(O.fillStyle=P,O.fillRect(t,m,T.width/A,T.height/M),localStorage.setItem("canvasName",T.toDataURL()))}let k=null;function q(e){O.globalCompositeOperation="source-over",k=this,e.dataTransfer.effectAllowed="move",console.log(this.outerHTML);const t=this.querySelector(".canvas2");localStorage.setItem("framecanvasName",t.toDataURL()),console.log(t),e.dataTransfer.setData("text/html",this.outerHTML),this.classList.add("dragElem")}function R(e){return e.preventDefault&&e.preventDefault(),this.classList.add("over"),e.dataTransfer.dropEffect="move",!1}function I(e){console.log(e)}function C(e){console.log(e),this.classList.remove("over")}function D(e){if(e.stopPropagation&&e.stopPropagation(),k!=this){const n=document.querySelector(".frame-containers");this.parentNode.removeChild(k);var t=e.dataTransfer.getData("text/html");let r;this===n.children[0]?(this.insertAdjacentHTML("beforebegin",t),r=this.previousSibling):(this.insertAdjacentHTML("afterend",t),r=this.nextSibling);for(let e of n.children)e.classList.contains("active-frame")&&e.classList.remove("active-frame");r.classList.add("active-frame");const a=document.querySelector(".active-frame").querySelector(".canvas2").getContext("2d"),o=localStorage.getItem("framecanvasName"),s=new Image;s.src=o,s.onload=function(){a.drawImage(s,0,0),O.clearRect(0,0,T.width,T.height),O.imageSmoothingEnabled=!1,O.drawImage(s,0,0,640,640)};for(let e=0;e<n.children.length;e++)n.children[e].querySelector(".frame-number").innerHTML=e+1;U(r)}return this.classList.remove("over"),!1}function N(e){console.log(e),this.classList.remove("over")}function U(e){e.addEventListener("dragstart",q,!1),e.addEventListener("dragenter",I,!1),e.addEventListener("dragover",R,!1),e.addEventListener("dragleave",C,!1),e.addEventListener("drop",D,!1),e.addEventListener("dragend",N,!1)}const T=document.getElementById("pixel");console.log(`canva  ${T.width}`);const O=T.getContext("2d");let z=!1,A=32,M=32,K=32,F=32,j="#000000",P="#FFFFFF",$=1;const H=document.querySelector("#pen"),B=document.querySelector("#stroke"),X=document.querySelector("#eraser"),Y=document.querySelector("#paint-bucketAll"),_=document.querySelector("#bucket"),J=document.querySelector("#color-picker"),V=[H,B,X,Y,_,J],G=document.querySelector("#unit-sizes-one"),Q=document.querySelector("#unit-sizes-two"),W=document.querySelector("#unit-sizes-three"),Z=document.querySelector("#unit-sizes-four"),ee=[G,Q,W,Z],te=document.querySelector(".add-new-frame"),ne=document.querySelector("#small-canvas"),re=ne.getContext("2d"),ae=document.querySelector("#primary"),oe=document.querySelector("#secondary"),se=document.querySelector("#swap-colors"),ce=document.querySelector("#save"),ie=document.querySelector("#resize");let le,de=Number(document.querySelector("#cowbell").value);function ue(){z=!1,T.removeEventListener("click",h),T.removeEventListener("mousedown",w),T.removeEventListener("mousemove",L),T.removeEventListener("mouseup",S),T.removeEventListener("click",E),T.removeEventListener("click",he),T.oncontextmenu=function(){return!1},T.addEventListener("mousedown",d),T.addEventListener("mousemove",u),T.addEventListener("mouseup",m)}function me(e,t){for(let e=0;e<t.length;e++)t[e].classList.contains("active-button")&&t[e].classList.remove("active-button");e.classList.add("active-button")}function he(e){O.globalCompositeOperation="source-over";let t=e.pageX-this.offsetLeft,n=e.pageY-this.offsetTop,r=O.getImageData(t,n,1,1).data,a="rgba("+r[0]+", "+r[1]+", "+r[2]+", "+r[3]/255+")";j=a,document.querySelector(".span-primary").style.background=j}function fe(){let e=document.querySelector(".frame-containers");for(let t of e.children)t.classList.contains("active-frame")&&t.classList.remove("active-frame");let t=document.querySelector(".frame-container").cloneNode(!0);$++,t.querySelector(".frame-number").innerHTML=$,t.classList.add("active-frame"),document.querySelector(".frame-containers").append(t),O.clearRect(0,0,T.width,T.height),U(t)}document.querySelector("body").addEventListener("load",r(32,32,T,O)),window.addEventListener("load",(function(){H.classList.add("active-button"),document.querySelector(".frame-container").classList.add("active-frame"),G.classList.add("active-button"),T.removeEventListener("click",h),T.removeEventListener("mousedown",w),T.removeEventListener("mousemove",L),T.removeEventListener("mouseup",S),T.removeEventListener("click",E),T.removeEventListener("click",he),T.oncontextmenu=function(){return!1},T.addEventListener("mousedown",d),T.addEventListener("mousemove",u),T.addEventListener("mouseup",m),le&&clearTimeout(le),le=ye(de)})),ae.addEventListener("change",(function(){j=this.value,document.querySelector(".span-primary").style.background=this.value})),oe.addEventListener("change",(function(){P=this.value,document.querySelector(".span-secondary").style.background=this.value})),se.addEventListener("click",(function(){!function(e,t){const n=e;e=t,document.querySelector(".span-primary").style.background=e,t=n,document.querySelector(".span-secondary").style.background=t}(j,P);const e=j;j=P,P=e})),document.querySelector("#resize").addEventListener("click",(function(){const e=document.querySelector(".button-size");!0===e.hidden?e.hidden=!1:e.hidden=!0,this.blur()})),document.querySelector("#thirty-two").addEventListener("click",(function(){a(32,32,T,O,r),A=32,M=32,K=32,F=32})),document.querySelector("#sixty-four").addEventListener("click",(function(){a(64,64,T,O,r),A=64,M=64,K=64,F=64})),document.querySelector("#one-hundred-and-twenty-eight").addEventListener("click",(function(){a(128,128,T,O,r),A=128,M=128,K=128,F=128})),document.querySelector("#pen").addEventListener("click",(function(){ue(),me(H,V)})),G.addEventListener("click",(function(){A=K,M=F,ue(),me(G,ee),me(H,V)})),Q.addEventListener("click",(function(){A=K/2,M=F/2,ue(),me(Q,ee),me(H,V)})),W.addEventListener("click",(function(){A=K/3,M=F/3,ue(),me(W,ee),me(H,V)})),Z.addEventListener("click",(function(){A=K/4,M=F/4,ue(),me(Z,ee),me(H,V)})),document.querySelector("#paint-bucketAll").addEventListener("click",(function(){z=!1,O.globalCompositeOperation="source-over",T.oncontextmenu=function(){return O.fillStyle=P,O.fillRect(0,0,T.width,T.height),localStorage.setItem("canvasName",T.toDataURL()),pe(),!1},T.removeEventListener("mousedown",d),T.removeEventListener("mousemove",u),T.removeEventListener("mouseup",m),T.removeEventListener("mousedown",w),T.removeEventListener("mousemove",L),T.removeEventListener("mouseup",S),T.removeEventListener("click",E),T.removeEventListener("click",he),T.addEventListener("click",h),me(Y,V)})),document.querySelector("#bucket").addEventListener("click",(function(){z=!1,O.globalCompositeOperation="source-over",T.oncontextmenu=function(){return O.fillStyle=P,O.fillRect(0,0,T.width,T.height),localStorage.setItem("canvasName",T.toDataURL()),!1},T.removeEventListener("mousedown",d),T.removeEventListener("mousemove",u),T.removeEventListener("mouseup",m),T.removeEventListener("mousedown",w),T.removeEventListener("mousemove",L),T.removeEventListener("mouseup",S),T.removeEventListener("click",h),T.removeEventListener("click",he),T.addEventListener("click",E),me(_,V)})),document.querySelector("#eraser").addEventListener("click",(function(){z=!0,T.removeEventListener("click",h),T.removeEventListener("mousedown",w),T.removeEventListener("mousemove",L),T.removeEventListener("mouseup",S),T.removeEventListener("click",E),T.removeEventListener("click",he),T.addEventListener("mousedown",d),T.addEventListener("mousemove",u),T.addEventListener("mouseup",m),me(X,V)})),document.querySelector("#stroke").addEventListener("click",(function(){T.removeEventListener("mousedown",d),T.removeEventListener("mousemove",u),T.removeEventListener("mouseup",m),T.removeEventListener("click",h),T.removeEventListener("click",E),T.removeEventListener("click",he),T.addEventListener("mousedown",w),T.addEventListener("mousemove",L),T.addEventListener("mouseup",S),me(B,V)})),J.addEventListener("click",(function(){T.removeEventListener("mousedown",d),T.removeEventListener("mousemove",u),T.removeEventListener("mouseup",m),T.removeEventListener("mousedown",w),T.removeEventListener("mousemove",L),T.removeEventListener("mouseup",S),T.removeEventListener("click",h),T.removeEventListener("click",E),T.oncontextmenu=function(){O.globalCompositeOperation="source-over";let e=event.pageX-this.offsetLeft,t=event.pageY-this.offsetTop,n=O.getImageData(e,t,1,1).data,r="rgba("+n[0]+", "+n[1]+", "+n[2]+", "+n[3]/255+")";return P=r,document.querySelector(".span-secondary").style.background=P,!1},T.addEventListener("click",he),me(J,V)})),te.addEventListener("click",fe),document.querySelector(".frames").addEventListener("mouseover",(function(e){let t=e.target.closest(".frame-container");if(!t)return;let n=t.querySelectorAll("button");for(let e of n)e.style.opacity="1"})),document.querySelector(".frames").addEventListener("mouseout",(function(e){let t=e.target.closest(".frame-container");if(!t)return;let n=t.querySelectorAll("button");for(let e of n)e.style.opacity="0"})),document.querySelector("main").addEventListener("click",(function(){!function(e){O.globalCompositeOperation="source-over";let t=e.target.closest(".canvas-container-delete");if(!t)return;let n=t.closest(".frame-container"),r=document.querySelector(".frame-containers"),a=Array.from(r.children).indexOf(n);if(r.children.length>1){for(let e of r.children)e.classList.contains("active-frame")&&e.classList.remove("active-frame");n.remove()}for(let e=0;e<r.children.length;e++)r.children[e].querySelector(".frame-number").innerHTML=e+1;a>=r.children.length&&(a=r.children.length-1),Array.from(r.children)[a].classList.add("active-frame");const o=document.querySelector(".active-frame").querySelector(".canvas2").toDataURL(),s=new Image;s.src=o,s.onload=function(){O.clearRect(0,0,T.width,T.height),O.imageSmoothingEnabled=!1,O.drawImage(s,0,0,640,640)}}(event),function(e){let t=e.target.closest(".canvas-container-duplicate");if(!t)return;O.globalCompositeOperation="source-over";const n=t.closest(".frame-container"),r=n.querySelector(".canvas2").toDataURL(),a=n.cloneNode(!0),o=a.querySelector(".canvas2").getContext("2d"),s=new Image;s.src=r,s.onload=function(){o.drawImage(s,0,0),O.clearRect(0,0,T.width,T.height),O.imageSmoothingEnabled=!1,O.drawImage(s,0,0,640,640)},n.after(a),$++;let c=document.querySelector(".frame-containers");for(let e of c.children)e.classList.contains("active-frame")&&e.classList.remove("active-frame");a.classList.add("active-frame");for(let e=0;e<c.children.length;e++)c.children[e].querySelector(".frame-number").innerHTML=e+1;U(a),le&&clearTimeout(le);le=ye(de)}(event),$=document.querySelector(".frame-containers").children.length})),document.querySelector(".frame-containers").addEventListener("click",(function(e){let t=e.target.closest(".frame-container"),n=document.querySelector(".frame-containers");for(let e of n.children)e.classList.contains("active-frame")&&e.classList.remove("active-frame");O.globalCompositeOperation="source-over",t.classList.add("active-frame");const r=t.querySelector(".canvas2").toDataURL(),a=new Image;a.src=r,a.onload=function(){O.clearRect(0,0,T.width,T.height),O.imageSmoothingEnabled=!1,O.drawImage(a,0,0,640,640)}})),U(document.querySelector(".frame-container"));const ve=document.querySelectorAll(".frame-containers .frame-container");function pe(){const e=document.querySelector(".active-frame").querySelector(".canvas2"),t=e.getContext("2d");t.clearRect(0,0,e.width,e.height);const n=localStorage.getItem("canvasName"),r=new Image;r.src=n,r.onload=function(){t.drawImage(r,0,0,100,100)}}[].forEach.call(ve,U);let ge=0;function ye(e){return setInterval(()=>{const e=function(){const e=[],t=document.querySelector(".frame-containers");for(let n=0;n<t.children.length;n++){const r=t.children[n].querySelector(".canvas2").toDataURL();e.push(r)}return e}();let t=e[ge%e.length];0===e.length&&(t=e[0]),function(e){const t=new Image;t.src=e,t.onload=function(){re.clearRect(0,0,ne.width,ne.height),O.imageSmoothingEnabled=!1,re.drawImage(t,0,0,200,200)}}(t),ge++},1e3/e)}document.querySelector("#cowbell").addEventListener("input",(function(){de=Number(document.querySelector("#cowbell").value),document.querySelector(".speed-animation label").textContent=`${de} FPS`,le&&clearTimeout(le),le=ye(de)})),document.querySelector(".additional-tools").addEventListener("mouseover",(function(e){let t=e.target.closest(".small-animation");if(!t)return;let n=t.querySelectorAll("button");for(let e of n)e.style.opacity="1"})),document.querySelector(".additional-tools").addEventListener("mouseout",(function(e){let t=e.target.closest(".small-animation");if(!t)return;let n=t.querySelectorAll("button");for(let e of n)e.style.opacity="0"})),document.querySelector("#full-screen-mode").addEventListener("click",(function(){var e;(e=ne).requestFullscreen?e.requestFullscreen():e.webkitrequestFullscreen?e.webkitRequestFullscreen():e.mozRequestFullscreen&&e.mozRequestFullScreen()})),document.addEventListener("keydown",e=>{switch(e.code){case"KeyB":_.click();break;case"KeyL":ae.click();break;case"KeyK":oe.click();break;case"KeyJ":se.click();break;case"KeyP":H.click();break;case"KeyO":J.click();break;case"KeyE":X.click();break;case"KeyT":B.click();break;case"KeyA":Y.click();break;case"KeyS":ce.click();break;case"KeyR":ie.click()}}),document.addEventListener("keydown",(function(e){if("KeyV"==e.code&&(e.ctrlKey||e.metaKey))fe();else if("KeyC"==e.code&&(e.ctrlKey||e.metaKey))!function(){const e=document.querySelector(".active-frame"),t=e.querySelector(".canvas2").toDataURL(),n=e.cloneNode(!0),r=n.querySelector(".canvas2").getContext("2d"),a=new Image;a.src=t,a.onload=function(){r.drawImage(a,0,0),O.clearRect(0,0,T.width,T.height),O.imageSmoothingEnabled=!1,O.drawImage(a,0,0,640,640)},e.after(n),$++;let o=document.querySelector(".frame-containers");for(let e of o.children)e.classList.contains("active-frame")&&e.classList.remove("active-frame");n.classList.add("active-frame");for(let e=0;e<o.children.length;e++)o.children[e].querySelector(".frame-number").innerHTML=e+1;U(n),le&&clearTimeout(le);le=ye(de)}(),$=document.querySelector(".frame-containers").children.length;else if("KeyX"==e.code&&(e.ctrlKey||e.metaKey))!function(){const e=document.querySelector(".active-frame"),t=document.querySelector(".frame-containers");let n=Array.from(t.children).indexOf(e);if(t.children.length>1){for(let e of t.children)e.classList.contains("active-frame")&&e.classList.remove("active-frame");e.remove()}for(let e=0;e<t.children.length;e++)t.children[e].querySelector(".frame-number").innerHTML=e+1;n>=t.children.length&&(n=t.children.length-1),Array.from(t.children)[n].classList.add("active-frame");const r=document.querySelector(".active-frame").querySelector(".canvas2").toDataURL(),a=new Image;a.src=r,a.onload=function(){O.clearRect(0,0,T.width,T.height),O.imageSmoothingEnabled=!1,O.drawImage(a,0,0,640,640)}}(),$=document.querySelector(".frame-containers").children.length;else if("BracketLeft"==e.code){const e=document.querySelector(".row-0").querySelector(".active-button"),t=ee.indexOf(e);let n,r;switch(n=0===t?ee[t]:ee[t-1]){case ee[0]:r=1;break;case ee[1]:r=2;break;case ee[2]:r=3;break;case ee[3]:r=4}A=K/r,M=F/r,ue(),me(n,ee),me(H,V)}else if("BracketRight"==e.code){const e=document.querySelector(".row-0").querySelector(".active-button"),t=ee.indexOf(e);let n,r;switch(n=t===ee.length-1?ee[t]:ee[t+1]){case ee[0]:r=1;break;case ee[1]:r=2;break;case ee[2]:r=3;break;case ee[3]:r=4}A=K/r,M=F/r,ue(),me(n,ee),me(H,V)}})),document.querySelector("#keyboard").addEventListener("click",(function(){document.querySelector(".modal-windown").removeAttribute("hidden"),this.blur()})),document.querySelector("#close").addEventListener("click",(function(){document.querySelector(".modal-windown").setAttribute("hidden",!0),this.blur()})),document.querySelector(".modal-windown").addEventListener("input",(function(){let e=event.target.closest(".next-shortcuts");if(!e)return;const t=e.value.toUpperCase(),n=e.closest("div");n.querySelector(".current-shortcuts").textContent=e.value;const r=n.classList.value.split(" ")[1];console.log(t),console.log(r)}));n(18),n(20)}]);
//# sourceMappingURL=pageTwo.js.map